<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AEM QA System - Interactive Technical Specification</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
        }
        .diagram-node, .module-card {
            transition: all 0.2s ease-in-out;
        }
        .diagram-node:hover, .module-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .arrow {
            position: relative;
            color: #64748b;
        }
        .arrow-line-v {
            width: 2px;
            background-color: #cbd5e1;
            margin-left: auto;
            margin-right: auto;
        }
        .arrow-line-h {
            height: 2px;
            background-color: #cbd5e1;
            margin-top: auto;
            margin-bottom: auto;
        }
        .arrow-point-down::after {
            content: '';
            position: absolute;
            left: 50%;
            bottom: -10px;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-top: 6px solid #64748b;
        }
        .arrow-point-right::after {
            content: '';
            position: absolute;
            top: 50%;
            right: -10px;
            transform: translateY(-50%);
            width: 0;
            height: 0;
            border-top: 6px solid transparent;
            border-bottom: 6px solid transparent;
            border-left: 6px solid #64748b;
        }
        .highlight {
            border-color: #0ea5e9 !important;
            background-color: #f0f9ff !important;
            box-shadow: 0 0 20px rgba(14, 165, 233, 0.5);
        }
        html {
            scroll-behavior: smooth;
        }
        .lang-btn {
            transition: all 0.2s ease-in-out;
        }
        .lang-btn.active {
            background-color: #0ea5e9;
            color: white;
        }
        .lang-btn:not(.active):hover {
            background-color: #e2e8f0;
        }
    </style>
</head>
<body class="text-slate-700">

    <header class="bg-white/90 backdrop-blur-md sticky top-0 z-50 border-b border-slate-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl md:text-2xl font-bold text-slate-800" data-i18n="main-title">AEM QA System ê¸°ìˆ  ëª…ì„¸ì„œ</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <!-- Language Selector -->
                    <div class="flex space-x-1 bg-slate-100 rounded-lg p-1">
                        <button class="lang-btn active px-3 py-1 rounded text-sm font-medium" data-lang="ko">ğŸ‡°ğŸ‡· í•œêµ­ì–´</button>
                        <button class="lang-btn px-3 py-1 rounded text-sm font-medium" data-lang="en">ğŸ‡ºğŸ‡¸ English</button>
                        <button class="lang-btn px-3 py-1 rounded text-sm font-medium" data-lang="ja">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</button>
                    </div>
                    <nav class="hidden md:flex md:space-x-8">
                        <a href="#architecture" class="font-medium text-slate-600 hover:text-sky-600 transition-colors" data-i18n="nav-architecture">ì•„í‚¤í…ì²˜</a>
                        <a href="#workflow" class="font-medium text-slate-600 hover:text-sky-600 transition-colors" data-i18n="nav-workflow">ì›Œí¬í”Œë¡œìš°</a>
                        <a href="#components" class="font-medium text-slate-600 hover:text-sky-600 transition-colors" data-i18n="nav-components">í•µì‹¬ ëª¨ë“ˆ ë° DB</a>
                    </nav>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        
        <section id="architecture" class="mb-24">
            <h2 class="text-3xl font-bold text-slate-900 mb-4 text-center" data-i18n="arch-title">1. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜</h2>
            <p class="text-center text-lg text-slate-600 mb-12 max-w-3xl mx-auto" data-i18n="arch-desc">
                ì‹œìŠ¤í…œì„ êµ¬ì„±í•˜ëŠ” ì£¼ìš” ì»´í¬ë„ŒíŠ¸ì™€ ë°ì´í„° íë¦„ì˜ ì „ì²´ì ì¸ ê·¸ë¦¼ì…ë‹ˆë‹¤. ê° ì»´í¬ë„ŒíŠ¸ë¥¼ í´ë¦­í•˜ë©´ ì•„ë˜ ìƒì„¸ ì„¹ì…˜ì—ì„œ ê´€ë ¨ ë‚´ìš©ì´ ê°•ì¡° í‘œì‹œë©ë‹ˆë‹¤.
            </p>

            <div class="p-6 bg-white rounded-xl shadow-lg border border-slate-200">
                <div class="grid grid-cols-1 md:grid-cols-10 gap-4">
                    <!-- Users & Collector -->
                    <div class="md:col-span-2 flex flex-col items-center space-y-4">
                        <div class="diagram-node bg-slate-100 p-4 rounded-lg border-2 border-slate-200 w-full text-center cursor-pointer" data-highlight="user">
                            <h3 class="font-bold text-lg">ğŸ‘¨â€ğŸ’»ğŸ‘©â€ğŸ”¬ <span data-i18n="users">ì‚¬ìš©ì</span></h3>
                            <p class="text-sm text-slate-500 mt-1" data-i18n="users-subtitle">Admin & QA Analyst</p>
                        </div>
                        <div class="arrow-line-v h-8 arrow-point-down"></div>
                        <div class="diagram-node bg-sky-100 p-4 rounded-lg border-2 border-sky-200 w-full text-center cursor-pointer" data-highlight="collector">
                            <h3 class="font-bold text-lg">ğŸ“² <span data-i18n="collector-app">Collector App</span></h3>
                        </div>
                    </div>
                    <!-- Arrows -->
                    <div class="md:col-span-1 flex flex-col md:flex-row items-center justify-center">
                         <div class="arrow-line-h w-full h-16 md:h-full md:w-auto arrow-point-right"></div>
                    </div>
                    <!-- Main System -->
                    <div class="md:col-span-4 flex flex-col items-center space-y-4">
                        <div class="diagram-node bg-indigo-100 p-4 rounded-lg border-2 border-indigo-200 w-full text-center cursor-pointer" data-highlight="system">
                            <h3 class="font-bold text-lg">âš™ï¸ <span data-i18n="main-system">AEM QA ë¶„ì„ ì‹œìŠ¤í…œ</span></h3>
                            <div class="mt-2 p-2 bg-white rounded">
                                <p class="font-semibold text-sm" data-i18n="ui-layer">UI Layer (Streamlit)</p>
                            </div>
                            <div class="mt-2 p-2 bg-white rounded">
                                <p class="font-semibold text-sm" data-i18n="backend-layer">Backend & Processing Layer</p>
                            </div>
                        </div>
                        <div class="arrow-line-v h-8 arrow-point-down"></div>
                        <div class="diagram-node bg-emerald-100 p-4 rounded-lg border-2 border-emerald-200 w-full text-center cursor-pointer" data-highlight="db">
                            <h3 class="font-bold text-lg">ğŸ—ƒï¸ğŸ§  <span data-i18n="data-storage">ë°ì´í„° ì €ì¥ì†Œ</span></h3>
                            <p class="text-sm text-slate-500 mt-1">MongoDB & ChromaDB</p>
                        </div>
                    </div>
                    <!-- Arrows -->
                    <div class="md:col-span-1 flex flex-col md:flex-row items-center justify-center">
                        <div class="arrow-line-h w-full h-16 md:h-full md:w-auto arrow-point-right"></div>
                    </div>
                    <!-- External -->
                    <div class="md:col-span-2 flex flex-col items-center justify-center">
                         <div class="diagram-node bg-slate-100 p-4 rounded-lg border-2 border-slate-200 w-full text-center cursor-pointer" data-highlight="external">
                            <h3 class="font-bold text-lg">ğŸŒ <span data-i18n="external-system">ì™¸ë¶€ ì‹œìŠ¤í…œ</span></h3>
                            <p class="text-sm text-slate-500 mt-1" data-i18n="aem-server">AEM Author Server</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <hr class="border-slate-200 my-24">

        <section id="workflow" class="mb-24">
            <h2 class="text-3xl font-bold text-slate-900 mb-4 text-center" data-i18n="workflow-title">2. ìƒì„¸ ë°ì´í„° ì›Œí¬í”Œë¡œìš°</h2>
            <p class="text-center text-lg text-slate-600 mb-12 max-w-3xl mx-auto" data-i18n="workflow-desc">
                ë°ì´í„°ê°€ ìƒì„±ë˜ì–´ ìµœì¢… ë¶„ì„ ê²°ê³¼ë¡œ ì œê³µë˜ê¸°ê¹Œì§€ì˜ ì „ì²´ ê³¼ì •ì„ ë‹¨ê³„ë³„ë¡œ ë³´ì—¬ì¤ë‹ˆë‹¤.
            </p>

            <div class="space-y-8">
                <div id="phase-collector" class="p-6 bg-white rounded-xl shadow-lg border-2 border-transparent workflow-phase">
                    <h3 class="text-2xl font-bold mb-6 text-sky-700" data-i18n="phase1-title">Phase 1: ë°ì´í„° ìˆ˜ì§‘</h3>
                    <div class="flex flex-col md:flex-row items-center justify-around space-y-4 md:space-y-0 md:space-x-4">
                        <div class="diagram-node p-3 bg-slate-50 border rounded-md text-center" data-i18n="step1">1. í˜ì´ì§€ ëª©ë¡ ì…ë ¥</div>
                        <div class="arrow-point-down md:arrow-point-right text-2xl font-mono">â†’</div>
                        <div class="diagram-node p-3 bg-slate-50 border rounded-md text-center" data-i18n="step2">2. AEM ì½˜í…ì¸  ìˆ˜ì§‘</div>
                        <div class="arrow-point-down md:arrow-point-right text-2xl font-mono">â†’</div>
                        <div class="diagram-node p-3 bg-green-50 border border-green-200 rounded-md text-center" data-i18n="step3">3. ì½˜í…ì¸  íŒ¨í‚¤ì§€(.zip) ìƒì„±</div>
                    </div>
                </div>

                <div id="phase-system" class="p-6 bg-white rounded-xl shadow-lg border-2 border-transparent workflow-phase">
                    <h3 class="text-2xl font-bold mb-6 text-indigo-700" data-i18n="phase2-title">Phase 2: ì²˜ë¦¬ ë° ì¸ë±ì‹±</h3>
                    <div class="flex flex-col md:flex-row items-center justify-around space-y-4 md:space-y-0 md:space-x-4">
                        <div class="diagram-node p-3 bg-slate-50 border rounded-md text-center" data-i18n="step4">4. ë°ì´í„° ì ì¬ (MongoDB)</div>
                        <div class="arrow-point-down md:arrow-point-right text-2xl font-mono">â†’</div>
                        <div class="diagram-node p-3 bg-slate-50 border rounded-md text-center" data-i18n="step5">5. TM êµ¬ì¶• ë° ë¶„ë¦¬</div>
                        <div class="arrow-point-down md:arrow-point-right text-2xl font-mono">â†’</div>
                        <div class="diagram-node p-3 bg-purple-50 border border-purple-200 rounded-md text-center" data-i18n="step6">6. ë²¡í„° ì¸ë±ì‹± (ChromaDB)</div>
                    </div>
                </div>

                <div id="phase-user" class="p-6 bg-white rounded-xl shadow-lg border-2 border-transparent workflow-phase">
                    <h3 class="text-2xl font-bold mb-6 text-emerald-700" data-i18n="phase3-title">Phase 3: ë¶„ì„ ë° QA</h3>
                    <div class="flex flex-col md:flex-row items-center justify-around space-y-4 md:space-y-0 md:space-x-4">
                        <div class="diagram-node p-3 bg-slate-50 border rounded-md text-center" data-i18n="step7">7. ë²„ì „ ê°„ ë¹„êµ ë¶„ì„</div>
                        <div class="arrow-point-down md:arrow-point-right text-2xl font-mono">â†’</div>
                        <div class="diagram-node p-3 bg-slate-50 border rounded-md text-center" data-i18n="step8">8. ì˜ë¯¸ ê¸°ë°˜ ê²€ìƒ‰</div>
                        <div class="arrow-point-down md:arrow-point-right text-2xl font-mono">â†’</div>
                        <div class="diagram-node p-3 bg-green-50 border border-green-200 rounded-md text-center" data-i18n="step9">9. ëŒ€ì‹œë³´ë“œ ë° ë¦¬í¬íŠ¸ ì œê³µ</div>
                    </div>
                </div>
            </div>
        </section>
        
        <hr class="border-slate-200 my-24">

        <section id="components">
             <h2 class="text-3xl font-bold text-slate-900 mb-4 text-center" data-i18n="components-title">3. í•µì‹¬ ëª¨ë“ˆ ë° ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ</h2>
            <p class="text-center text-lg text-slate-600 mb-12 max-w-3xl mx-auto" data-i18n="components-desc">
                ì‹œìŠ¤í…œì„ êµ¬ì„±í•˜ëŠ” ì£¼ìš” ê¸°ìˆ  ìš”ì†Œì™€ ë°ì´í„° êµ¬ì¡°ì— ëŒ€í•œ ì„¤ëª…ì…ë‹ˆë‹¤.
            </p>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div>
                    <h3 class="text-2xl font-semibold mb-4 text-slate-800" data-i18n="core-modules">í•µì‹¬ ëª¨ë“ˆ</h3>
                    <div class="space-y-4">
                        <div id="module-segmenter" class="module-card p-4 bg-white rounded-lg border-2 border-slate-200">
                            <h4 class="font-bold text-lg text-indigo-700">SemanticSegmenter</h4>
                            <p class="text-sm text-slate-600 mt-1" data-i18n="segmenter-desc">AI ì„ë² ë”©ê³¼ ë™ì  í”„ë¡œê·¸ë˜ë°ì„ ì‚¬ìš©í•˜ì—¬ ê¸´ í…ìŠ¤íŠ¸ë¥¼ ì˜ë¯¸ ë‹¨ìœ„ë¡œ ìë™ ë¶„í• í•©ë‹ˆë‹¤.</p>
                            <p class="text-xs mt-2 font-mono text-slate-500" data-i18n="segmenter-tech">ê¸°ìˆ : sentence-transformers, spacy</p>
                        </div>
                        <div id="module-analyzer" class="module-card p-4 bg-white rounded-lg border-2 border-slate-200">
                            <h4 class="font-bold text-lg text-indigo-700">PageAnalyzer</h4>
                            <p class="text-sm text-slate-600 mt-1" data-i18n="analyzer-desc">ë‘ ì½˜í…ì¸  ë²„ì „ ê°„ì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ í•´ì‹œ(hash) ê¸°ë°˜ìœ¼ë¡œ ë¹„êµí•˜ì—¬ ì¶”ê°€, ìˆ˜ì •, ì‚­ì œëœ í•­ëª©ì„ ì‹ë³„í•©ë‹ˆë‹¤.</p>
                             <p class="text-xs mt-2 font-mono text-slate-500" data-i18n="analyzer-tech">ê¸°ìˆ : pymongo, Hashing</p>
                        </div>
                         <div id="module-ingestor" class="module-card p-4 bg-white rounded-lg border-2 border-slate-200">
                            <h4 class="font-bold text-lg text-indigo-700">DataIngestor</h4>
                            <p class="text-sm text-slate-600 mt-1" data-i18n="ingestor-desc">ìˆ˜ì§‘ëœ íŒ¨í‚¤ì§€ë¥¼ ë¶„ì„í•˜ê³ , ì¤‘ë³µì„ ë°©ì§€í•˜ë©° ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ë¶„í•´í•˜ì—¬ MongoDBì— ì €ì¥í•©ë‹ˆë‹¤.</p>
                             <p class="text-xs mt-2 font-mono text-slate-500" data-i18n="ingestor-tech">ê¸°ìˆ : zipfile, hashlib, pymongo</p>
                        </div>
                    </div>
                </div>
                <div>
                    <h3 class="text-2xl font-semibold mb-4 text-slate-800" data-i18n="db-schema">ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ</h3>
                    <div class="space-y-4">
                        <div id="db-mongo" class="p-4 bg-white rounded-lg border-2 border-slate-200">
                            <h4 class="font-bold text-lg text-emerald-700">ğŸ—ƒï¸ MongoDB</h4>
                            <ul class="mt-2 list-disc list-inside text-sm space-y-1 text-slate-600">
                                <li><b>page_components:</b> <span data-i18n="mongo-components">ì›ë³¸ ì»´í¬ë„ŒíŠ¸ ë°ì´í„°</span></li>
                                <li><b>clean_translation_memory_*:</b> <span data-i18n="mongo-tm">ì •ì œëœ í…ìŠ¤íŠ¸ TM</span></li>
                                <li><b>html_component_archive_*:</b> <span data-i18n="mongo-archive">HTML ë³´ê´€ìš© ë°ì´í„°</span></li>
                            </ul>
                        </div>
                        <div id="db-chroma" class="p-4 bg-white rounded-lg border-2 border-slate-200">
                            <h4 class="font-bold text-lg text-purple-700">ğŸ§  ChromaDB</h4>
                             <ul class="mt-2 list-disc list-inside text-sm space-y-1 text-slate-600">
                                <li><b>tm_*:</b> <span data-i18n="chroma-collection">ì˜ë¯¸ ê²€ìƒ‰ì„ ìœ„í•œ í…ìŠ¤íŠ¸ ë²¡í„° ì»¬ë ‰ì…˜</span></li>
                                <li class="ml-4"><b>Document:</b> source_text</li>
                                <li class="ml-4"><b>Metadata:</b> <span data-i18n="chroma-metadata">target_text, page_path ë“±</span></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <script>
        // Translation dictionary
        const translations = {
            ko: {
                "main-title": "AEM QA System ê¸°ìˆ  ëª…ì„¸ì„œ",
                "nav-architecture": "ì•„í‚¤í…ì²˜",
                "nav-workflow": "ì›Œí¬í”Œë¡œìš°",
                "nav-components": "í•µì‹¬ ëª¨ë“ˆ ë° DB",
                "arch-title": "1. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜",
                "arch-desc": "ì‹œìŠ¤í…œì„ êµ¬ì„±í•˜ëŠ” ì£¼ìš” ì»´í¬ë„ŒíŠ¸ì™€ ë°ì´í„° íë¦„ì˜ ì „ì²´ì ì¸ ê·¸ë¦¼ì…ë‹ˆë‹¤. ê° ì»´í¬ë„ŒíŠ¸ë¥¼ í´ë¦­í•˜ë©´ ì•„ë˜ ìƒì„¸ ì„¹ì…˜ì—ì„œ ê´€ë ¨ ë‚´ìš©ì´ ê°•ì¡° í‘œì‹œë©ë‹ˆë‹¤.",
                "users": "ì‚¬ìš©ì",
                "users-subtitle": "Admin & QA Analyst",
                "collector-app": "Collector App",
                "main-system": "AEM QA ë¶„ì„ ì‹œìŠ¤í…œ",
                "ui-layer": "UI Layer (Streamlit)",
                "backend-layer": "Backend & Processing Layer",
                "data-storage": "ë°ì´í„° ì €ì¥ì†Œ",
                "external-system": "ì™¸ë¶€ ì‹œìŠ¤í…œ",
                "aem-server": "AEM Author Server",
                "workflow-title": "2. ìƒì„¸ ë°ì´í„° ì›Œí¬í”Œë¡œìš°",
                "workflow-desc": "ë°ì´í„°ê°€ ìƒì„±ë˜ì–´ ìµœì¢… ë¶„ì„ ê²°ê³¼ë¡œ ì œê³µë˜ê¸°ê¹Œì§€ì˜ ì „ì²´ ê³¼ì •ì„ ë‹¨ê³„ë³„ë¡œ ë³´ì—¬ì¤ë‹ˆë‹¤.",
                "phase1-title": "Phase 1: ë°ì´í„° ìˆ˜ì§‘",
                "step1": "1. í˜ì´ì§€ ëª©ë¡ ì…ë ¥",
                "step2": "2. AEM ì½˜í…ì¸  ìˆ˜ì§‘",
                "step3": "3. ì½˜í…ì¸  íŒ¨í‚¤ì§€(.zip) ìƒì„±",
                "phase2-title": "Phase 2: ì²˜ë¦¬ ë° ì¸ë±ì‹±",
                "step4": "4. ë°ì´í„° ì ì¬ (MongoDB)",
                "step5": "5. TM êµ¬ì¶• ë° ë¶„ë¦¬",
                "step6": "6. ë²¡í„° ì¸ë±ì‹± (ChromaDB)",
                "phase3-title": "Phase 3: ë¶„ì„ ë° QA",
                "step7": "7. ë²„ì „ ê°„ ë¹„êµ ë¶„ì„",
                "step8": "8. ì˜ë¯¸ ê¸°ë°˜ ê²€ìƒ‰",
                "step9": "9. ëŒ€ì‹œë³´ë“œ ë° ë¦¬í¬íŠ¸ ì œê³µ",
                "components-title": "3. í•µì‹¬ ëª¨ë“ˆ ë° ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ",
                "components-desc": "ì‹œìŠ¤í…œì„ êµ¬ì„±í•˜ëŠ” ì£¼ìš” ê¸°ìˆ  ìš”ì†Œì™€ ë°ì´í„° êµ¬ì¡°ì— ëŒ€í•œ ì„¤ëª…ì…ë‹ˆë‹¤.",
                "core-modules": "í•µì‹¬ ëª¨ë“ˆ",
                "segmenter-desc": "AI ì„ë² ë”©ê³¼ ë™ì  í”„ë¡œê·¸ë˜ë°ì„ ì‚¬ìš©í•˜ì—¬ ê¸´ í…ìŠ¤íŠ¸ë¥¼ ì˜ë¯¸ ë‹¨ìœ„ë¡œ ìë™ ë¶„í• í•©ë‹ˆë‹¤.",
                "segmenter-tech": "ê¸°ìˆ : sentence-transformers, spacy",
                "analyzer-desc": "ë‘ ì½˜í…ì¸  ë²„ì „ ê°„ì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ í•´ì‹œ(hash) ê¸°ë°˜ìœ¼ë¡œ ë¹„êµí•˜ì—¬ ì¶”ê°€, ìˆ˜ì •, ì‚­ì œëœ í•­ëª©ì„ ì‹ë³„í•©ë‹ˆë‹¤.",
                "analyzer-tech": "ê¸°ìˆ : pymongo, Hashing",
                "ingestor-desc": "ìˆ˜ì§‘ëœ íŒ¨í‚¤ì§€ë¥¼ ë¶„ì„í•˜ê³ , ì¤‘ë³µì„ ë°©ì§€í•˜ë©° ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ë¶„í•´í•˜ì—¬ MongoDBì— ì €ì¥í•©ë‹ˆë‹¤.",
                "ingestor-tech": "ê¸°ìˆ : zipfile, hashlib, pymongo",
                "db-schema": "ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ",
                "mongo-components": "ì›ë³¸ ì»´í¬ë„ŒíŠ¸ ë°ì´í„°",
                "mongo-tm": "ì •ì œëœ í…ìŠ¤íŠ¸ TM",
                "mongo-archive": "HTML ë³´ê´€ìš© ë°ì´í„°",
                "chroma-collection": "ì˜ë¯¸ ê²€ìƒ‰ì„ ìœ„í•œ í…ìŠ¤íŠ¸ ë²¡í„° ì»¬ë ‰ì…˜",
                "chroma-metadata": "target_text, page_path ë“±"
            },
            en: {
                "main-title": "AEM QA System Technical Specification",
                "nav-architecture": "Architecture",
                "nav-workflow": "Workflow",
                "nav-components": "Core Modules & DB",
                "arch-title": "1. System Architecture",
                "arch-desc": "An overall view of the main components and data flow that make up the system. Click on each component to highlight related content in the detailed sections below.",
                "users": "Users",
                "users-subtitle": "Admin & QA Analyst",
                "collector-app": "Collector App",
                "main-system": "AEM QA Analysis System",
                "ui-layer": "UI Layer (Streamlit)",
                "backend-layer": "Backend & Processing Layer",
                "data-storage": "Data Storage",
                "external-system": "External System",
                "aem-server": "AEM Author Server",
                "workflow-title": "2. Detailed Data Workflow",
                "workflow-desc": "A step-by-step view of the entire process from data generation to final analysis results.",
                "phase1-title": "Phase 1: Data Collection",
                "step1": "1. Page List Input",
                "step2": "2. AEM Content Collection",
                "step3": "3. Content Package (.zip) Generation",
                "phase2-title": "Phase 2: Processing & Indexing",
                "step4": "4. Data Loading (MongoDB)",
                "step5": "5. TM Construction & Separation",
                "step6": "6. Vector Indexing (ChromaDB)",
                "phase3-title": "Phase 3: Analysis & QA",
                "step7": "7. Version Comparison Analysis",
                "step8": "8. Semantic-based Search",
                "step9": "9. Dashboard & Report Provision",
                "components-title": "3. Core Modules & Database Schema",
                "components-desc": "Description of the main technical elements and data structures that make up the system.",
                "core-modules": "Core Modules",
                "segmenter-desc": "Automatically segments long text into semantic units using AI embeddings and dynamic programming.",
                "segmenter-tech": "Technologies: sentence-transformers, spacy",
                "analyzer-desc": "Compares components between two content versions using hash-based comparison to identify added, modified, and deleted items.",
                "analyzer-tech": "Technologies: pymongo, Hashing",
                "ingestor-desc": "Analyzes collected packages, prevents duplication, and decomposes them into component units for storage in MongoDB.",
                "ingestor-tech": "Technologies: zipfile, hashlib, pymongo",
                "db-schema": "Database Schema",
                "mongo-components": "Original component data",
                "mongo-tm": "Cleaned text TM",
                "mongo-archive": "HTML archive data",
                "chroma-collection": "Text vector collection for semantic search",
                "chroma-metadata": "target_text, page_path, etc."
            },
            ja: {
                "main-title": "AEM QAã‚·ã‚¹ãƒ†ãƒ æŠ€è¡“ä»•æ§˜æ›¸",
                "nav-architecture": "ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£",
                "nav-workflow": "ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
                "nav-components": "ã‚³ã‚¢ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ»DB",
                "arch-title": "1. ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£",
                "arch-desc": "ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹æˆã™ã‚‹ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ã®å…¨ä½“åƒã§ã™ã€‚å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ä¸‹è¨˜ã®è©³ç´°ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§é–¢é€£å†…å®¹ãŒãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚",
                "users": "ãƒ¦ãƒ¼ã‚¶ãƒ¼",
                "users-subtitle": "Admin & QA Analyst",
                "collector-app": "Collector App",
                "main-system": "AEM QAåˆ†æã‚·ã‚¹ãƒ†ãƒ ",
                "ui-layer": "UIãƒ¬ã‚¤ãƒ¤ãƒ¼ (Streamlit)",
                "backend-layer": "ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ»å‡¦ç†ãƒ¬ã‚¤ãƒ¤ãƒ¼",
                "data-storage": "ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸",
                "external-system": "å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ ",
                "aem-server": "AEM Author Server",
                "workflow-title": "2. è©³ç´°ãƒ‡ãƒ¼ã‚¿ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
                "workflow-desc": "ãƒ‡ãƒ¼ã‚¿ãŒç”Ÿæˆã•ã‚Œã¦æœ€çµ‚åˆ†æçµæœã¨ã—ã¦æä¾›ã•ã‚Œã‚‹ã¾ã§ã®å…¨ä½“ãƒ—ãƒ­ã‚»ã‚¹ã‚’æ®µéšåˆ¥ã«ç¤ºã—ã¾ã™ã€‚",
                "phase1-title": "Phase 1: ãƒ‡ãƒ¼ã‚¿åé›†",
                "step1": "1. ãƒšãƒ¼ã‚¸ãƒªã‚¹ãƒˆå…¥åŠ›",
                "step2": "2. AEMã‚³ãƒ³ãƒ†ãƒ³ãƒ„åé›†",
                "step3": "3. ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸(.zip)ç”Ÿæˆ",
                "phase2-title": "Phase 2: å‡¦ç†ãƒ»ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–",
                "step4": "4. ãƒ‡ãƒ¼ã‚¿æ ¼ç´ (MongoDB)",
                "step5": "5. TMæ§‹ç¯‰ãƒ»åˆ†é›¢",
                "step6": "6. ãƒ™ã‚¯ãƒˆãƒ«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ– (ChromaDB)",
                "phase3-title": "Phase 3: åˆ†æãƒ»QA",
                "step7": "7. ãƒãƒ¼ã‚¸ãƒ§ãƒ³é–“æ¯”è¼ƒåˆ†æ",
                "step8": "8. ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯æ¤œç´¢",
                "step9": "9. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ»ãƒ¬ãƒãƒ¼ãƒˆæä¾›",
                "components-title": "3. ã‚³ã‚¢ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ",
                "components-desc": "ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹æˆã™ã‚‹ä¸»è¦æŠ€è¡“è¦ç´ ã¨ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã«ã¤ã„ã¦ã®èª¬æ˜ã§ã™ã€‚",
                "core-modules": "ã‚³ã‚¢ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«",
                "segmenter-desc": "AIåŸ‹ã‚è¾¼ã¿ã¨å‹•çš„ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚’ä½¿ç”¨ã—ã¦ã€é•·ã„ãƒ†ã‚­ã‚¹ãƒˆã‚’æ„å‘³å˜ä½ã§è‡ªå‹•åˆ†å‰²ã—ã¾ã™ã€‚",
                "segmenter-tech": "æŠ€è¡“: sentence-transformers, spacy",
                "analyzer-desc": "2ã¤ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒãƒ¼ã‚¸ãƒ§ãƒ³é–“ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒãƒƒã‚·ãƒ¥ãƒ™ãƒ¼ã‚¹ã§æ¯”è¼ƒã—ã€è¿½åŠ ãƒ»ä¿®æ­£ãƒ»å‰Šé™¤ã•ã‚ŒãŸé …ç›®ã‚’è­˜åˆ¥ã—ã¾ã™ã€‚",
                "analyzer-tech": "æŠ€è¡“: pymongo, Hashing",
                "ingestor-desc": "åé›†ã•ã‚ŒãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’åˆ†æã—ã€é‡è¤‡ã‚’é˜²ããªãŒã‚‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå˜ä½ã«åˆ†è§£ã—ã¦MongoDBã«ä¿å­˜ã—ã¾ã™ã€‚",
                "ingestor-tech": "æŠ€è¡“: zipfile, hashlib, pymongo",
                "db-schema": "ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ",
                "mongo-components": "åŸæœ¬ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿",
                "mongo-tm": "ç²¾è£½ã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆTM",
                "mongo-archive": "HTMLä¿ç®¡ç”¨ãƒ‡ãƒ¼ã‚¿",
                "chroma-collection": "ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯æ¤œç´¢ç”¨ãƒ†ã‚­ã‚¹ãƒˆãƒ™ã‚¯ãƒˆãƒ«ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³",
                "chroma-metadata": "target_text, page_path ãªã©"
            }
        };

        let currentLang = 'ko';

        function updateContent(lang) {
            const elements = document.querySelectorAll('[data-i18n]');
            elements.forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (translations[lang] && translations[lang][key]) {
                    element.textContent = translations[lang][key];
                }
            });
            
            // Update HTML lang attribute
            document.documentElement.lang = lang;
            currentLang = lang;
        }

        function updateLanguageButtons(activeLang) {
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-lang') === activeLang) {
                    btn.classList.add('active');
                }
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            // Language switching functionality
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const lang = btn.getAttribute('data-lang');
                    updateContent(lang);
                    updateLanguageButtons(lang);
                });
            });

            // Existing highlight functionality
            const highlightTargets = document.querySelectorAll('[data-highlight]');
            
            const highlightMap = {
                'user': ['phase-user'],
                'collector': ['phase-collector'],
                'system': ['phase-system', 'module-segmenter', 'module-analyzer', 'module-ingestor'],
                'db': ['db-mongo', 'db-chroma'],
                'external': ['phase-collector'],
            };

            highlightTargets.forEach(target => {
                target.addEventListener('click', () => {
                    const key = target.dataset.highlight;
                    const elementsToHighlight = highlightMap[key] || [];
                    
                    document.querySelectorAll('.highlight').forEach(el => el.classList.remove('highlight'));

                    if (elementsToHighlight.length > 0) {
                        elementsToHighlight.forEach(id => {
                            const element = document.getElementById(id);
                            if (element) {
                                element.classList.add('highlight');
                            }
                        });
                        const firstElement = document.getElementById(elementsToHighlight[0]);
                        if(firstElement) {
                           firstElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        }
                    }
                });
            });
        });
    </script>

</body>
</html>